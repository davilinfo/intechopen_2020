{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst lisk_validator_1 = require(\"@liskhq/lisk-validator\");\n\nconst _10_delegate_transaction_1 = require(\"./10_delegate_transaction\");\n\nconst constants_1 = require(\"./constants\");\n\nconst utils_1 = require(\"./utils\");\n\nconst validateInputs = ({\n  username,\n  networkIdentifier\n}) => {\n  if (!username || typeof username !== 'string') {\n    throw new Error('Please provide a username. Expected string.');\n  }\n\n  if (username.length > constants_1.USERNAME_MAX_LENGTH) {\n    throw new Error(`Username length does not match requirements. Expected to be no more than ${constants_1.USERNAME_MAX_LENGTH} characters.`);\n  }\n\n  lisk_validator_1.validateNetworkIdentifier(networkIdentifier);\n};\n\nexports.registerDelegate = inputs => {\n  validateInputs(inputs);\n  const {\n    username,\n    passphrase,\n    secondPassphrase,\n    networkIdentifier\n  } = inputs;\n  const transaction = { ...utils_1.createBaseTransaction(inputs),\n    type: 10,\n    fee: constants_1.DELEGATE_FEE.toString(),\n    asset: {\n      username\n    },\n    networkIdentifier\n  };\n\n  if (!passphrase) {\n    return transaction;\n  }\n\n  const delegateTransaction = new _10_delegate_transaction_1.DelegateTransaction(transaction);\n  delegateTransaction.sign(passphrase, secondPassphrase);\n  return delegateTransaction.toJSON();\n};","map":{"version":3,"sources":["../src/register_delegate.ts"],"names":[],"mappings":";;;;;;AAcA,MAAA,gBAAA,GAAA,OAAA,CAAA,wBAAA,CAAA;;AAEA,MAAA,0BAAA,GAAA,OAAA,CAAA,2BAAA,CAAA;;AACA,MAAA,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAEA,MAAA,OAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AAUA,MAAM,cAAc,GAAG,CAAC;AACvB,EAAA,QADuB;AAEvB,EAAA;AAFuB,CAAD,KAGY;AAClC,MAAI,CAAC,QAAD,IAAa,OAAO,QAAP,KAAoB,QAArC,EAA+C;AAC9C,UAAM,IAAI,KAAJ,CAAU,6CAAV,CAAN;AACA;;AAED,MAAI,QAAQ,CAAC,MAAT,GAAkB,WAAA,CAAA,mBAAtB,EAA2C;AAC1C,UAAM,IAAI,KAAJ,CACL,4EAA4E,WAAA,CAAA,mBAAmB,cAD1F,CAAN;AAGA;;AAED,EAAA,gBAAA,CAAA,yBAAA,CAA0B,iBAA1B;AACA,CAfD;;AAiBa,OAAA,CAAA,gBAAA,GACZ,MAD+B,IAEF;AAC7B,EAAA,cAAc,CAAC,MAAD,CAAd;AACA,QAAM;AAAE,IAAA,QAAF;AAAY,IAAA,UAAZ;AAAwB,IAAA,gBAAxB;AAA0C,IAAA;AAA1C,MAAgE,MAAtE;AAEA,QAAM,WAAW,GAAG,EACnB,GAAG,OAAA,CAAA,qBAAA,CAAsB,MAAtB,CADgB;AAEnB,IAAA,IAAI,EAAE,EAFa;AAGnB,IAAA,GAAG,EAAE,WAAA,CAAA,YAAA,CAAa,QAAb,EAHc;AAInB,IAAA,KAAK,EAAE;AAAE,MAAA;AAAF,KAJY;AAKnB,IAAA;AALmB,GAApB;;AAQA,MAAI,CAAC,UAAL,EAAiB;AAChB,WAAO,WAAP;AACA;;AAED,QAAM,mBAAmB,GAAG,IAAI,0BAAA,CAAA,mBAAJ,CAAwB,WAAxB,CAA5B;AACA,EAAA,mBAAmB,CAAC,IAApB,CAAyB,UAAzB,EAAqC,gBAArC;AAEA,SAAO,mBAAmB,CAAC,MAApB,EAAP;AACA,CAtBY","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lisk_validator_1 = require(\"@liskhq/lisk-validator\");\nconst _10_delegate_transaction_1 = require(\"./10_delegate_transaction\");\nconst constants_1 = require(\"./constants\");\nconst utils_1 = require(\"./utils\");\nconst validateInputs = ({ username, networkIdentifier, }) => {\n    if (!username || typeof username !== 'string') {\n        throw new Error('Please provide a username. Expected string.');\n    }\n    if (username.length > constants_1.USERNAME_MAX_LENGTH) {\n        throw new Error(`Username length does not match requirements. Expected to be no more than ${constants_1.USERNAME_MAX_LENGTH} characters.`);\n    }\n    lisk_validator_1.validateNetworkIdentifier(networkIdentifier);\n};\nexports.registerDelegate = (inputs) => {\n    validateInputs(inputs);\n    const { username, passphrase, secondPassphrase, networkIdentifier } = inputs;\n    const transaction = {\n        ...utils_1.createBaseTransaction(inputs),\n        type: 10,\n        fee: constants_1.DELEGATE_FEE.toString(),\n        asset: { username },\n        networkIdentifier,\n    };\n    if (!passphrase) {\n        return transaction;\n    }\n    const delegateTransaction = new _10_delegate_transaction_1.DelegateTransaction(transaction);\n    delegateTransaction.sign(passphrase, secondPassphrase);\n    return delegateTransaction.toJSON();\n};\n//# sourceMappingURL=register_delegate.js.map"]},"metadata":{},"sourceType":"script"}
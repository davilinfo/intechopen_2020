{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\davin.DESKTOP-83VQBDE\\\\Documents\\\\restaurant_sidechain\\\\web\\\\src\\\\components\\\\FoodOrderPayment.js\";\nimport React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport api from '../services/api';\nimport FormPayment from './FormPayment';\nimport '../styles.css';\n\nfunction FoodOrderPayment(props) {\n  var querystring = document.location.href.split(\"?\")[1];\n  var [order, setOrder] = useState([]);\n  /*this function should be uncommented if is desired to sign transaction at frontend*/\n\n  /*async function handleSubmit(data){                                                          \r\n             \r\n      order = await api.post('/payment', {transaction: data.txFood, networkid: 'identifier'});\r\n      console.log(order);\r\n      \r\n      setOrder(order);                  \r\n        const transaction_result = (\r\n          <div className=\"recipes_topic\">                    \r\n              Transaction result: {order.data.status}\r\n              <br />\r\n              Transaction id: {order.data.response.transaction.id}\r\n              <br/>\r\n              Paid Amount: LSK {order.data.response.transaction.amount/100000000}\r\n              <br/>\r\n              Payer LSK address: {order.data.response.transaction.senderId}\r\n              <br/>\r\n              Restaurant LSK address: {order.data.response.transaction.recipientId}\r\n              <br/>\r\n              Broadcast info: {order.data.response.broadcastInfo.data.message}                \r\n              <div className=\"clear\"></div>\r\n          </div>\r\n      );\r\n        ReactDOM.render(transaction_result, document.getElementById('content'));        \r\n  }*/\n\n  async function handleSubmit(data) {\n    var orderstring = decodeURI(querystring);\n\n    if (orderstring !== null && orderstring !== undefined) {\n      orderstring = orderstring.split(\"&\");\n      data.recipientAddress = orderstring[0].split('=')[1];\n      data.amount = orderstring[1].split('=')[1];\n      data.name = orderstring[2].split('=')[1];\n      data.request_type = orderstring[3].split('=')[1];\n      data.timestamp = orderstring[4].split('=')[1];\n      data.username = orderstring[5].split('=')[1];\n      data.phone = orderstring[6].split('=')[1];\n      data.deliveryaddress = orderstring[7].split('=')[1];\n      data.table = 1;\n      data.user = 1;\n    }\n\n    order = await api.post('/userRequest', data);\n    setOrder(order);\n    const transaction_result = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"recipes_topic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, \"Transaction result: \", order.data.status, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }), \"Transaction id: \", order.data.response.transaction.id, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }), \"Paid Amount: LSK \", order.data.response.transaction.amount / 100000000, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }), \"Payer LSK address: \", order.data.response.transaction.senderId, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }), \"Restaurant LSK address: \", order.data.response.transaction.recipientId, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }), \"Broadcast info: \", order.data.response.broadcastInfo.data.message, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }));\n    ReactDOM.render(transaction_result, document.getElementById('content'));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormPayment, {\n    onSubmit: handleSubmit,\n    orderstring: querystring,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default FoodOrderPayment;","map":{"version":3,"sources":["C:/Users/davin.DESKTOP-83VQBDE/Documents/restaurant_sidechain/web/src/components/FoodOrderPayment.js"],"names":["React","useState","useEffect","ReactDOM","api","FormPayment","FoodOrderPayment","props","querystring","document","location","href","split","order","setOrder","handleSubmit","data","orderstring","decodeURI","undefined","recipientAddress","amount","name","request_type","timestamp","username","phone","deliveryaddress","table","user","post","transaction_result","status","response","transaction","id","senderId","recipientId","broadcastInfo","message","render","getElementById"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport api from '../services/api';\r\nimport FormPayment from './FormPayment';\r\nimport '../styles.css';\r\n\r\nfunction FoodOrderPayment(props){        \r\n    var querystring = document.location.href.split(\"?\")[1];     \r\n\r\n    var [order, setOrder] = useState([]);                    \r\n    \r\n    /*this function should be uncommented if is desired to sign transaction at frontend*/\r\n    /*async function handleSubmit(data){                                                          \r\n               \r\n        order = await api.post('/payment', {transaction: data.txFood, networkid: 'identifier'});\r\n        console.log(order);\r\n        \r\n        setOrder(order);                  \r\n\r\n        const transaction_result = (\r\n            <div className=\"recipes_topic\">                    \r\n                Transaction result: {order.data.status}\r\n                <br />\r\n                Transaction id: {order.data.response.transaction.id}\r\n                <br/>\r\n                Paid Amount: LSK {order.data.response.transaction.amount/100000000}\r\n                <br/>\r\n                Payer LSK address: {order.data.response.transaction.senderId}\r\n                <br/>\r\n                Restaurant LSK address: {order.data.response.transaction.recipientId}\r\n                <br/>\r\n                Broadcast info: {order.data.response.broadcastInfo.data.message}                \r\n                <div className=\"clear\"></div>\r\n            </div>\r\n        );\r\n\r\n        ReactDOM.render(transaction_result, document.getElementById('content'));        \r\n    }*/       \r\n    \r\n    async function handleSubmit(data){                              \r\n        var orderstring = decodeURI(querystring);\r\n        if (orderstring !== null && orderstring !== undefined){    \r\n            orderstring = orderstring.split(\"&\");\r\n                            \r\n            data.recipientAddress = orderstring[0].split('=')[1];\r\n            data.amount = orderstring[1].split('=')[1];\r\n            data.name = orderstring[2].split('=')[1];\r\n            data.request_type = orderstring[3].split('=')[1];\r\n            data.timestamp = orderstring[4].split('=')[1];\r\n            data.username = orderstring[5].split('=')[1];\r\n            data.phone = orderstring[6].split('=')[1];\r\n            data.deliveryaddress = orderstring[7].split('=')[1];\r\n            data.table = 1;\r\n            data.user = 1;            \r\n        }                        \r\n\r\n        order = await api.post('/userRequest', data);\r\n        setOrder(order);                  \r\n\r\n        const transaction_result = (\r\n            <div className=\"recipes_topic\">                    \r\n                Transaction result: {order.data.status}\r\n                <br />\r\n                Transaction id: {order.data.response.transaction.id}\r\n                <br/>\r\n                Paid Amount: LSK {order.data.response.transaction.amount/100000000}\r\n                <br/>\r\n                Payer LSK address: {order.data.response.transaction.senderId}\r\n                <br/>\r\n                Restaurant LSK address: {order.data.response.transaction.recipientId}\r\n                <br/>\r\n                Broadcast info: {order.data.response.broadcastInfo.data.message}                \r\n                <div className=\"clear\"></div>\r\n            </div>\r\n        );\r\n\r\n        ReactDOM.render(transaction_result, document.getElementById('content'));        \r\n    }\r\n\r\n    return (\r\n        <div id=\"app\">\r\n            <div id=\"content\" align=\"center\">                \r\n                <FormPayment onSubmit={handleSubmit} orderstring={querystring}></FormPayment>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FoodOrderPayment;"]},"metadata":{},"sourceType":"module"}
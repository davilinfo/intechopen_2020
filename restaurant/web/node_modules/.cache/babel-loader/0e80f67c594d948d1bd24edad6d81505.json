{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\PoC\\\\restaurant_sidechain\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\PoC\\\\restaurant_sidechain\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\PoC\\\\restaurant_sidechain\\\\web\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import api from'../services/api';import FormReservation from'./FormReservation';import'../styles.css';var transactions=require(\"@liskhq/lisk-transactions\");function FoodReservation(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),foodRequest=_useState2[0],setFoodRequest=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),phone=_useState4[0],setPhone=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),deliveryAddress=_useState6[0],setDeliveryAddress=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],setUsername=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),observation=_useState10[0],setObservation=_useState10[1];function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var transaction_result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(data);foodRequest=data.result.foodRequest;phone=data.result.phone;deliveryAddress=data.result.deliveryAddress;username=data.result.user;observation=data.result.observation;setFoodRequest(foodRequest);setPhone(phone);setDeliveryAddress(deliveryAddress);setObservation(observation);setUsername(username);transaction_result=/*#__PURE__*/React.createElement(\"div\",{className:\"recipes_topic\"},foodRequest.data.status,/*#__PURE__*/React.createElement(\"br\",null),\"Transaction id: \",foodRequest.data.response.data.length>0?foodRequest.data.response.data[0].id:\"\",/*#__PURE__*/React.createElement(\"br\",null),\"Payer LSK address: \",foodRequest.data.response.data.length>0?foodRequest.data.response.data[0].senderId:\"\",/*#__PURE__*/React.createElement(\"br\",null),\"Restaurant LSK address: \",foodRequest.data.response.data.length>0?foodRequest.data.response.data[0].recipientId:\"\",/*#__PURE__*/React.createElement(\"br\",null),\"Food name: \",foodRequest.data.response.data.length>0?foodRequest.data.response.data[0].asset.name:\"\",/*#__PURE__*/React.createElement(\"br\",null),\"Amount: LSK \",foodRequest.data.response.data.length>0?transactions.utils.convertBeddowsToLSK(foodRequest.data.response.data[0].amount):0,/*#__PURE__*/React.createElement(\"br\",null),\"Phone: \",phone,/*#__PURE__*/React.createElement(\"br\",null),\"Delivery address: \",deliveryAddress,/*#__PURE__*/React.createElement(\"br\",null),\"User: \",username,/*#__PURE__*/React.createElement(\"br\",null),\"Observation: \",observation,/*#__PURE__*/React.createElement(\"div\",{className:\"clear\"}));ReactDOM.render(transaction_result,document.getElementById('content'));case 13:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{id:\"app\"},/*#__PURE__*/React.createElement(\"div\",{id:\"content\",align:\"center\"},/*#__PURE__*/React.createElement(FormReservation,{onSubmit:handleSubmit})));}export default FoodReservation;","map":{"version":3,"sources":["C:/PoC/restaurant_sidechain/web/src/components/FoodReservation.js"],"names":["React","useState","useEffect","ReactDOM","api","FormReservation","transactions","require","FoodReservation","props","foodRequest","setFoodRequest","phone","setPhone","deliveryAddress","setDeliveryAddress","username","setUsername","observation","setObservation","handleSubmit","data","console","log","result","user","transaction_result","status","response","length","id","senderId","recipientId","asset","name","utils","convertBeddowsToLSK","amount","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport api from '../services/api';\r\nimport FormReservation from './FormReservation';\r\nimport '../styles.css';\r\nconst transactions = require(\"@liskhq/lisk-transactions\");\r\n\r\nfunction FoodReservation(props){                   \r\n    var [foodRequest, setFoodRequest] = useState([]);     \r\n    var [phone, setPhone] = useState('');\r\n    var [deliveryAddress, setDeliveryAddress] = useState('');\r\n    var [username, setUsername] = useState('');\r\n    var [observation, setObservation] = useState('');\r\n\r\n    async function handleSubmit(data){                \r\n\r\n        console.log(data);\r\n        foodRequest = data.result.foodRequest;\r\n        phone = data.result.phone;\r\n        deliveryAddress = data.result.deliveryAddress;\r\n        username = data.result.user;\r\n        observation= data.result.observation;\r\n        \r\n        setFoodRequest(foodRequest);    \r\n        setPhone(phone);\r\n        setDeliveryAddress(deliveryAddress);\r\n        setObservation(observation);\r\n        setUsername(username);\r\n\r\n        const transaction_result = (\r\n            <div className=\"recipes_topic\">                    \r\n                {foodRequest.data.status}\r\n                <br />\r\n                Transaction id: {foodRequest.data.response.data.length > 0 ? foodRequest.data.response.data[0].id : \"\"}                \r\n                <br/>\r\n                Payer LSK address: {foodRequest.data.response.data.length > 0 ? foodRequest.data.response.data[0].senderId : \"\"}\r\n                <br/>\r\n                Restaurant LSK address: {foodRequest.data.response.data.length > 0 ? foodRequest.data.response.data[0].recipientId : \"\"}\r\n                <br/>\r\n                Food name: {foodRequest.data.response.data.length > 0 ? foodRequest.data.response.data[0].asset.name : \"\"}\r\n                <br/>\r\n                Amount: LSK {foodRequest.data.response.data.length > 0 ? transactions.utils.convertBeddowsToLSK(foodRequest.data.response.data[0].amount) : 0}\r\n                <br/>\r\n                Phone: {phone}\r\n                <br/>\r\n                Delivery address: {deliveryAddress}\r\n                <br/>\r\n                User: {username}\r\n                <br/>\r\n                Observation: {observation}\r\n                <div className=\"clear\"></div>\r\n            </div>\r\n        );\r\n\r\n        ReactDOM.render(transaction_result, document.getElementById('content'));        \r\n    }        \r\n\r\n    return (\r\n        <div id=\"app\">\r\n            <div id=\"content\" align=\"center\">                \r\n                <FormReservation onSubmit={handleSubmit}></FormReservation>                \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FoodReservation;"]},"metadata":{},"sourceType":"module"}